!function(n,t,e){"use strict";var o=window,i=function(){return{x:void 0!==o.pageXOffset?o.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft,y:void 0!==o.pageYOffset?o.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop}};document.onselectstart=function(){return!1};var r=ui("Dragger",{defaults:{start:null,drag:null,stop:null,initX:0,initY:0,allowVerticalScrolling:!0,allowHorizontalScrolling:!0,bounds:{minX:null,maxX:null,minY:null,maxY:null}},initialize:function(t,e){var o=this;!1!==o.supr(t,e)&&(o.bounds=n.extend({},o.defaults.bounds,o.options.bounds),o.dragStart={x:0,y:0,diffX:0,diffY:0,scrollX:0,scrollY:0},o.isDragging=!1,o.isScrolling=!1,o.$el.css("msTouchAction","none"),o.bindEvents(),o.enabled=!0)},bindEvents:function(){var n=this;n.$el.on("mousedown",n._handleMouseDown=n._eventMouseDown.bind(n)),t.$doc.on("mousemove",n._handleMouseMove=n._eventMouseMove.bind(n)),t.$doc.on("mouseup",n._handleMouseUp=n._eventMouseUp.bind(n)),n.$el.on("touchstart",n._handleTouchStart=n._eventTouchStart.bind(n)),n.$el.on("touchmove",n._handleTouchMove=n._eventTouchMove.bind(n)),n.$el.on("touchend",n._handleTopuchEnd=n._eventTouchEnd.bind(n)),n.$el.on("click",n._handleClick=n._preventClickWhenDrag.bind(n))},unbindEvents:function(){var n=this;n.$el.off("mousedown",n._handleMouseDown),t.$doc.off("mousemove",n._handleMouseMove),t.$doc.off("mouseup",n._handleMouseUp),n.$el.off("touchstart",n._handleTouchStart),n.$el.off("touchmove",n._handleTouchMove),n.$el.off("touchend",n._handleTopuchEnd),n.$el.off("click",n._handleClick)},setBounds:function(t){n.extend(this.bounds,t)},preventDragStart:function(n){n.preventDefault()},hasDragged:function(){return 0!==this.dragStart.diffX||0!==this.dragStart.diffY},getNewPos:function(n){var t,e,o,i;return t=n.x-this.dragStart.x,e=n.y-this.dragStart.y,this.dragStart.diffX=t,this.dragStart.diffY=e,o=t,i=e,"number"==typeof this.bounds.minX&&(o=Math.max(o,this.bounds.minX)),"number"==typeof this.bounds.maxX&&(o=Math.min(o,this.bounds.maxX)),"number"==typeof this.bounds.minY&&(i=Math.max(i,this.bounds.minY)),"number"==typeof this.bounds.maxY&&(i=Math.min(i,this.bounds.maxY)),{x:o,y:i}},_startDrag:function(n){var t=this,e=i();t.dragStart={x:n.x,y:n.y,diffX:0,diffY:0,scrollX:e.x,scrollY:e.y},t.triggerHandler("dragstart",{pos:n})},_moveHandle:function(n){var t=this,e=t.getNewPos(n);t.triggerHandler("dragmove",{pos:e,x:e.x,y:e.y})},_stopDrag:function(n){var t=this,e=t.getNewPos(n),o=t.hasDragged()||!t.isScrolling;t.triggerHandler("dragend",{dragSuccess:o,pos:e,x:e.x,y:e.y}),t.isDragging=!1},_didPageScroll:function(){var n=this,t=i();return!(!n.options.allowVerticalScrolling||t.y===n.dragStart.scrollY)||!(!n.options.allowHorizontalScrolling||t.x===n.dragStart.scrollX)},_didDragEnough:function(n){var t=this,e=t.options;return!e.allowVerticalScrolling&&Math.abs(n.y-t.dragStart.y)>10||!e.allowHorizontalScrolling&&Math.abs(n.x-t.dragStart.x)>10},_eventMouseDown:function(n){this.isDragging=!0,this._startDrag({x:n.clientX,y:n.clientY})},_eventMouseMove:function(n){this.isDragging&&this._moveHandle({x:n.clientX,y:n.clientY})},_eventMouseUp:function(n){this.isDragging&&this._stopDrag({x:n.clientX,y:n.clientY})},_eventTouchStart:function(n){this.isDragging=!1,this._startDrag({x:n.touches[0].clientX,y:n.touches[0].clientY})},_eventTouchMove:function(n){var t=this;if(t.isScrolling)return!0;var e={x:n.touches[0].clientX,y:n.touches[0].clientY};if(!t.isDragging){if(t._didPageScroll())return t.isScrolling=!0,!0;if(!t._didDragEnough(e))return!0;t.isDragging=!0}n.preventDefault(),t._moveHandle(e)},_eventTouchEnd:function(n){var t=this,e={x:t.isScrolling?t.dragStart.x:n.changedTouches[0].clientX,y:t.isScrolling?t.dragStart.y:n.changedTouches[0].clientY};t._stopDrag(e),t.isScrolling=!1},_preventClickWhenDrag:function(n){this.hasDragged()&&n.preventDefault()},relase:function(){this.enabled&&(this.unbindEvents(),delete this.dragStart,delete this.isDragging,delete this.isScrolling,this.el.style.msTouchAction=void 0,delete this.enabled)}});"function"==typeof define&&define.amd&&define([],function(){return r})}(jQuery,window[LIB_NAME]);